# quiz_app.py
# ì›¹ í´ë¦­í˜• Python ì¤‘ê°„ê³ ì‚¬ í€´ì¦ˆ (Streamlit)
# - ë³´ê¸°/ë¬¸í•­ ë¬´ì‘ìœ„
# - ì¦‰ì‹œ ì±„ì /í•´ì„¤
# - ì˜¤ë‹µë§Œ ì¬ë„ì „
# - "ì¶œì œ ë¬¸í•­ ìˆ˜" ë³€ê²½ í›„ [ì ìš©] ë²„íŠ¼ìœ¼ë¡œ ì¦‰ì‹œ ë°˜ì˜
import os, warnings, logging
os.environ.setdefault("PYTHONWARNINGS", "ignore")
warnings.filterwarnings("ignore")
logging.disable(logging.WARNING)
import random
import streamlit as st

st.set_page_config(page_title="Practical ML ì¤‘ê°„ê³ ì‚¬ ëŒ€ë¹„", layout="wide")
st.title("ğŸ“˜ Practical ML í€´ì¦ˆ ë¨¸ì‹ ")

# =========================
# 1) ë¬¸ì œ ë°ì´í„°ì…‹
#    â†’ ì—¬ê¸°ë§Œ ë„¤ 100ë¬¸í•­ìœ¼ë¡œ êµì²´
# =========================
QUESTIONS = [
    # 1~25: ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë³¸/í‰ê°€
    {"q": "ë¨¸ì‹ ëŸ¬ë‹ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” ë¬´ì—‡ì¸ê°€?", "options": ["ê·œì¹™ ì•”ê¸°", "ì…ë ¥-ì¶œë ¥ ë§¤í•‘ í•¨ìˆ˜ í•™ìŠµ", "ë°ì´í„° ì €ì¥", "ê·¸ë˜í”½ ì²˜ë¦¬"], "answer": 2},
    {"q": "ì§€ë„í•™ìŠµì˜ ì…ë ¥ ë°ì´í„° íŠ¹ì§•ì€?", "options": ["ë¼ë²¨ ì—†ìŒ", "ë¼ë²¨ ìˆìŒ", "ì‹œê°„ì •ë³´ë§Œ ìˆìŒ", "ì´ë¯¸ì§€ ì „ìš©"], "answer": 2},
    {"q": "ë¹„ì§€ë„í•™ìŠµì˜ ëŒ€í‘œ ê³¼ì—…ì€?", "options": ["ë¶„ë¥˜", "êµ°ì§‘í™”", "íšŒê·€", "ê°•í™”í•™ìŠµ"], "answer": 2},
    {"q": "ê°•í™”í•™ìŠµì€ ë¬´ì—‡ì„ í†µí•´ í•™ìŠµí•˜ëŠ”ê°€?", "options": ["ë³´ìƒ", "ì •ë‹µë¼ë²¨", "êµì‚¬ ë°ì´í„°", "êµ°ì§‘ ì¤‘ì‹¬"], "answer": 1},
    {"q": "Yê°€ ì—°ì†í˜•ì´ë©´ ì–´ë–¤ ë¬¸ì œì¸ê°€?", "options": ["ë¶„ë¥˜", "íšŒê·€", "êµ°ì§‘í™”", "ì°¨ì›ì¶•ì†Œ"], "answer": 2},
    {"q": "Yê°€ ë²”ì£¼í˜•ì´ë©´ ì–´ë–¤ ë¬¸ì œì¸ê°€?", "options": ["íšŒê·€", "ë¶„ë¥˜", "ì‹œê³„ì—´", "ê°•í™”í•™ìŠµ"], "answer": 2},
    {"q": "ì •í˜• ë°ì´í„°ì˜ ì˜ˆì‹œëŠ”?", "options": ["ìŠ¤í”„ë ˆë“œì‹œíŠ¸", "ìì—°ì–´ í…ìŠ¤íŠ¸", "ì´ë¯¸ì§€", "ì˜¤ë””ì˜¤"], "answer": 1},
    {"q": "ë¹„ì •í˜• ë°ì´í„°ê°€ ì•„ë‹Œ ê²ƒì€?", "options": ["ì´ë¯¸ì§€", "CSV í…Œì´ë¸”", "ìì—°ì–´", "ì˜ìƒ"], "answer": 2},
    {"q": "MLPì˜ ê¸°ë³¸ êµ¬ì¡°ëŠ”?", "options": ["ì…ë ¥-ì¶œë ¥", "ì…ë ¥-ì€ë‹‰-ì¶œë ¥", "ì€ë‹‰-ì¶œë ¥", "ì¶œë ¥-ì…ë ¥"], "answer": 2},
    {"q": "ì€ë‹‰ì¸µì˜ ì£¼ëœ ì—­í• ì€?", "options": ["ë°ì´í„° ì €ì¥", "ë¹„ì„ í˜• ê´€ê³„ í•™ìŠµ", "ë¼ë²¨ ìƒì„±", "ì •ê·œí™”"], "answer": 2},
    {"q": "í™œì„±í™” í•¨ìˆ˜ì˜ ëª©ì ì€?", "options": ["ë¹„ì„ í˜•ì„± ë¶€ì—¬", "ê°€ì¤‘ì¹˜ ì´ˆê¸°í™”", "ë¼ë²¨ ì¸ì½”ë”©", "ì •ê·œí™”"], "answer": 1},
    {"q": "ì†ì‹¤í•¨ìˆ˜ëŠ” ë¬´ì—‡ì„ ì¸¡ì •í•˜ëŠ”ê°€?", "options": ["ëª¨ë¸ ë³µì¡ë„", "ì˜¤ì°¨ í¬ê¸°", "ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰", "ë°ì´í„° í¬ê¸°"], "answer": 2},
    {"q": "í•™ìŠµ/ê²€ì¦/í…ŒìŠ¤íŠ¸ ë¶„í• ì˜ ì£¼ëª©ì ì€?", "options": ["ì†ë„í–¥ìƒ", "ì¼ë°˜í™” ì„±ëŠ¥ í‰ê°€", "ë¼ë²¨ ì •ì œ", "ì‹œê°í™”"], "answer": 2},
    {"q": "ê³¼ì í•©ì˜ ì „í˜•ì  ì§•í›„ëŠ”?", "options": ["í›ˆë ¨â†‘ í…ŒìŠ¤íŠ¸â†“", "í›ˆë ¨â†“ í…ŒìŠ¤íŠ¸â†‘", "ë‘˜ ë‹¤â†“", "ë‘˜ ë‹¤â†‘"], "answer": 1},
    {"q": "ì–¸ë”í”¼íŒ…ì´ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ”?", "options": ["ëª¨ë¸ ê³¼ë³µì¡", "ëª¨ë¸ ê³¼ë‹¨ìˆœ", "ë°ì´í„° ê³¼ë‹¤", "ì •ê·œí™” ê³¼ì†Œ"], "answer": 2},
    {"q": "í˜¼ë™í–‰ë ¬ì€ ì£¼ë¡œ ì–´ë–¤ ëª¨ë¸ í‰ê°€ì— ì“°ì´ëŠ”ê°€?", "options": ["íšŒê·€", "ë¶„ë¥˜", "ì°¨ì›ì¶•ì†Œ", "êµ°ì§‘"], "answer": 2},
    {"q": "TPëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?", "options": ["ì •ìƒâ†’ì •ìƒ", "ì´ìƒâ†’ì´ìƒ", "ì´ìƒâ†’ì •ìƒ", "ì •ìƒâ†’ì´ìƒ"], "answer": 2},
    {"q": "TNì€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?", "options": ["ì •ìƒâ†’ì •ìƒ", "ì´ìƒâ†’ì •ìƒ", "ì •ìƒâ†’ì´ìƒ", "ì´ìƒâ†’ì´ìƒ"], "answer": 1},
    {"q": "FPëŠ” ì–´ë–¤ ê²½ìš°ì¸ê°€?", "options": ["ì •ìƒì„ ì´ìƒìœ¼ë¡œ ì˜ˆì¸¡", "ì´ìƒì„ ì •ìƒìœ¼ë¡œ ì˜ˆì¸¡", "ì •ìƒì„ ì •ìƒìœ¼ë¡œ ì˜ˆì¸¡", "ì´ìƒì„ ì´ìƒìœ¼ë¡œ ì˜ˆì¸¡"], "answer": 1},
    {"q": "FNì€ ì–´ë–¤ ê²½ìš°ì¸ê°€?", "options": ["ì´ìƒì„ ì •ìƒìœ¼ë¡œ ì˜ˆì¸¡", "ì •ìƒì„ ì´ìƒìœ¼ë¡œ ì˜ˆì¸¡", "ì´ìƒì„ ì´ìƒìœ¼ë¡œ ì˜ˆì¸¡", "ì •ìƒì„ ì •ìƒìœ¼ë¡œ ì˜ˆì¸¡"], "answer": 1},
    {"q": "Accuracyê°€ ë¶€ì ì ˆí•  ìˆ˜ ìˆëŠ” ìƒí™©ì€?", "options": ["í´ë˜ìŠ¤ ê· í˜•", "í´ë˜ìŠ¤ ë¶ˆê· í˜• ì‹¬í•¨", "í”¼ì²˜ê°€ ì ìŒ", "ë¼ë²¨ì´ ì—†ìŒ"], "answer": 2},
    {"q": "Precisionì˜ ì •ì˜ëŠ”?", "options": ["ì‹¤ì œ ì–‘ì„± ì¤‘ ë§ì¶˜ ë¹„ìœ¨", "ì˜ˆì¸¡ ì–‘ì„± ì¤‘ ì‹¤ì œ ì–‘ì„± ë¹„ìœ¨", "ì‹¤ì œ ìŒì„± ì¤‘ ë§ì¶˜ ë¹„ìœ¨", "ì „ì²´ ì •í™•ë„"], "answer": 2},
    {"q": "Recallì˜ ì •ì˜ëŠ”?", "options": ["ì˜ˆì¸¡ ì–‘ì„± ì¤‘ ì‹¤ì œ ì–‘ì„±", "ì‹¤ì œ ì–‘ì„± ì¤‘ ë§ì¶˜ ë¹„ìœ¨", "ì •í™•ë„", "ì˜¤ì°¨ìœ¨"], "answer": 2},
    {"q": "F1-scoreëŠ” ì–´ë–¤ í‰ê· ì¸ê°€?", "options": ["ì‚°ìˆ í‰ê· ", "ì¡°í™”í‰ê· ", "ê¸°í•˜í‰ê· ", "ê°€ì¤‘í‰ê· "], "answer": 2},
    {"q": "ë¶ˆê· í˜• ìƒí™©ì—ì„œ ë” ìœ ìš©í•œ ê³¡ì„ ì€?", "options": ["ROC", "PR ì»¤ë¸Œ", "íˆìŠ¤í† ê·¸ë¨", "QQ-plot"], "answer": 2},

    # 26~50: ë¶ˆê· í˜• ê°œë…/ì–¸ë”ìƒ˜í”Œë§
    {"q": "ë°ì´í„° ë¶ˆê· í˜•ì˜ ì •ì˜ëŠ”?", "options": ["í´ë˜ìŠ¤ í‘œë³¸ ìˆ˜ê°€ ë¹„ìŠ·í•¨", "í•œ í´ë˜ìŠ¤ í‘œë³¸ì´ ë§¤ìš° ì ìŒ", "ë¼ë²¨ì´ ì—†ìŒ", "ê²°ì¸¡ì´ ë§ìŒ"], "answer": 2},
    {"q": "ì†Œìˆ˜ í´ë˜ìŠ¤(minority class)ëŠ”?", "options": ["í‘œë³¸ì´ ë§ì€ í´ë˜ìŠ¤", "í‘œë³¸ì´ ì ì€ í´ë˜ìŠ¤", "í•­ìƒ ì •ìƒ í´ë˜ìŠ¤", "í•­ìƒ ì´ìƒ í´ë˜ìŠ¤"], "answer": 2},
    {"q": "ë‹¤ìˆ˜ í´ë˜ìŠ¤(majority class)ëŠ”?", "options": ["í‘œë³¸ì´ ë§ì€ í´ë˜ìŠ¤", "í‘œë³¸ì´ ì ì€ í´ë˜ìŠ¤", "í•­ìƒ ì´ìƒ í´ë˜ìŠ¤", "í•­ìƒ ì •ìƒ í´ë˜ìŠ¤"], "answer": 1},
    {"q": "ë¶ˆê· í˜•ì—ì„œ Accuracyê°€ ì™œ ìœ„í—˜í•œê°€?", "options": ["í•­ìƒ ë‚®ìŒ", "ì†Œìˆ˜ í´ë˜ìŠ¤ë¥¼ ë¬´ì‹œí•´ë„ ë†’ì„ ìˆ˜ ìˆìŒ", "ì •ì˜ ë¶ˆê°€", "ê³„ì‚° ë³µì¡"], "answer": 2},
    {"q": "ë¶ˆê· í˜• ëŒ€ì‘ì˜ ë°ì´í„° ìˆ˜ì¤€ ì ‘ê·¼ì€?", "options": ["ìƒ˜í”Œë§", "ë¡œìŠ¤ ë³€ê²½", "ëª¨ë¸ êµ¬ì¡° ë³€ê²½", "ìµœì í™” ë³€ê²½"], "answer": 1},
    {"q": "ëª¨ë¸ ìˆ˜ì¤€ ì ‘ê·¼ì˜ ì˜ˆëŠ”?", "options": ["Cost-sensitive í•™ìŠµ", "ìƒ˜í”Œë§", "ì •ê·œí™”", "ìŠ¤ì¼€ì¼ë§"], "answer": 1},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ì˜ í•µì‹¬ì€?", "options": ["ì†Œìˆ˜ í´ë˜ìŠ¤ ì¦ê°€", "ë‹¤ìˆ˜ í´ë˜ìŠ¤ ê°ì†Œ", "ë¼ë²¨ ì œê±°", "íŠ¹ì§• ì‚­ì œ"], "answer": 2},
    {"q": "ì˜¤ë²„ìƒ˜í”Œë§ì˜ í•µì‹¬ì€?", "options": ["ë‹¤ìˆ˜ í´ë˜ìŠ¤ ê°ì†Œ", "ì†Œìˆ˜ í´ë˜ìŠ¤ ì¦ê°€", "ê²°ì¸¡ì¹˜ ì œê±°", "ì •ê·œí™”"], "answer": 2},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ì˜ ì¥ì ì€?", "options": ["ê³„ì‚°ëŸ‰ ê°ì†Œ", "ì •ë³´ ì†ì‹¤ ì—†ìŒ", "í•­ìƒ ì •í™•ë„â†‘", "ë…¸ì´ì¦ˆ ì œê±° ë³´ì¥"], "answer": 1},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ì˜ ë‹¨ì ì€?", "options": ["ì •ë³´ ì†ì‹¤ ìœ„í—˜", "ê³¼ì í•© ì¦ê°€", "ë°ì´í„° í­ì¦", "í•™ìŠµ ë¶ˆê°€"], "answer": 1},
    {"q": "Random Undersamplingì€ ë¬´ì—‡ì„ ì œê±°í•˜ëŠ”ê°€?", "options": ["ì†Œìˆ˜ í´ë˜ìŠ¤", "ë‹¤ìˆ˜ í´ë˜ìŠ¤ ì¼ë¶€", "ë¼ë²¨", "ê²°ì¸¡ì¹˜"], "answer": 2},
    {"q": "Tomek Linksì˜ ëª©ì ì€?", "options": ["ê²½ê³„ ê·¼ì²˜ ë‹¤ìˆ˜ í´ë˜ìŠ¤ ì œê±°", "ì†Œìˆ˜ ë³µì œ", "ë¼ë²¨ ì •ì •", "ê²°ì¸¡ ëŒ€ì²´"], "answer": 1},
    {"q": "Tomek Linksê°€ ì§‘ì¤‘í•˜ëŠ” ì˜ì—­ì€?", "options": ["í´ë˜ìŠ¤ ì¤‘ì‹¬", "í´ë˜ìŠ¤ ê²½ê³„", "ë¬´ì‘ìœ„", "ê³ ë°€ë„ ì˜ì—­"], "answer": 2},
    {"q": "CNN(Condensed NN) ê·œì¹™ì€ ì–´ë–¤ ìƒ˜í”Œì„ ì œê±°í•˜ëŠ”ê°€?", "options": ["1-NNìœ¼ë¡œ ì˜ ë¶„ë¥˜ë˜ëŠ” ìƒ˜í”Œ", "ë¬´ì‘ìœ„ ìƒ˜í”Œ", "ì†Œìˆ˜ í´ë˜ìŠ¤ë§Œ", "ê²°ì¸¡ í–‰"], "answer": 1},
    {"q": "One-Sided Selection(OSS)ì€ ë¬´ì—‡ì˜ ê²°í•©ì¸ê°€?", "options": ["Tomek Links + CNN", "SMOTE + ADASYN", "LOF + DBSCAN", "SVM + PCA"], "answer": 1},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ ì‹œ íŠ¹íˆ ì£¼ì˜í•´ì•¼ í•  ê²ƒì€?", "options": ["ë‹¤ìˆ˜ ì •ë³´ ì†ì‹¤", "ì†Œìˆ˜ ì •ë³´ ì†ì‹¤", "ë¼ë²¨ ì†ìƒ", "ìŠ¤ì¼€ì¼ ì†ì‹¤"], "answer": 1},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ì˜ ëª©í‘œëŠ”?", "options": ["í´ë˜ìŠ¤ ë¹„ìœ¨ ê· í˜•", "ë¼ë²¨ ìƒì„±", "í”¼ì²˜ ê°ì†Œ", "ì •ê·œí™”"], "answer": 1},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ í›„ ê¸°ëŒ€ íš¨ê³¼ê°€ ì•„ë‹Œ ê²ƒì€?", "options": ["í•™ìŠµ ì†ë„ í–¥ìƒ", "ê²½ê³„ ëª…í™•í™” ê°€ëŠ¥", "ë°ì´í„° ì¦ê°€", "ë¶ˆê· í˜• ì™„í™”"], "answer": 3},
    {"q": "ë¶ˆê· í˜• ì‹œ ì£¼ë¡œ ê°•ì¡°í•˜ëŠ” ì§€í‘œëŠ”?", "options": ["Recall/F1", "RMSE", "MAPE", "RÂ²"], "answer": 1},
    {"q": "ì†Œìˆ˜ í´ë˜ìŠ¤ ê²€ì¶œë ¥ì´ ì¤‘ìš”í•œ ê²½ìš° ì¤‘ì‹œí•  ì§€í‘œëŠ”?", "options": ["Precisionë§Œ", "Recall", "MAE", "AUCë§Œ"], "answer": 2},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ì´ íŠ¹íˆ ìœ„í—˜í•œ ë°ì´í„° ìƒí™©ì€?", "options": ["í‘œë³¸ì´ ë§¤ìš° ì ìŒ", "í‘œë³¸ì´ ë§¤ìš° ë§ìŒ", "í´ë˜ìŠ¤ ê· í˜•", "ê²°ì¸¡ ì—†ìŒ"], "answer": 1},
    {"q": "ì–¸ë”/ì˜¤ë²„ìƒ˜í”Œë§ì˜ ê³µí†µ ëª©ì ì€?", "options": ["ê²°ì¸¡ ì œê±°", "í´ë˜ìŠ¤ ë¹„ìœ¨ ê°œì„ ", "ì •ê·œí™”", "ë¼ë²¨ë§"], "answer": 2},
    {"q": "OSSì˜ ê¸°ëŒ€ íš¨ê³¼ëŠ”?", "options": ["ê²½ê³„ ì •ì œ", "ì†Œìˆ˜ ë³µì œ", "ë¼ë²¨ ì œê±°", "ì°¨ì›ì¶•ì†Œ"], "answer": 1},
    {"q": "Tomek LinksëŠ” ì£¼ë¡œ ì–´ë–¤ ì˜¤ë¥˜ë¥¼ ì¤„ì´ëŠ”ê°€?", "options": ["ê³¼ì†Œì í•©", "ê²½ê³„í˜¼í•©ìœ¼ë¡œ ì¸í•œ ë¶„ë¥˜ ì˜¤ë¥˜", "ë¼ë²¨ì˜¤ë¥˜", "ê²°ì¸¡ì¹˜ ì˜¤ë¥˜"], "answer": 2},
    {"q": "ì–¸ë”ìƒ˜í”Œë§ ì„ íƒ ê¸°ì¤€ìœ¼ë¡œ ì ì ˆí•œ ê²ƒì€?", "options": ["ë¬´ì‘ìœ„ë§Œ", "ê²½ê³„ì •ë³´/1-NN ë“± ê·œì¹™ ê¸°ë°˜", "ë¼ë²¨ì‚­ì œ", "ì •ê·œí™”ë§Œ"], "answer": 2},

    # 51~75: ì˜¤ë²„ìƒ˜í”Œë§ (Resampling/SMOTE/Borderline/ADASYN)
    {"q": "Random Oversamplingì˜ ë°©ë²•ì€?", "options": ["ì†Œìˆ˜ ë³µì œ", "ë‹¤ìˆ˜ ì‚­ì œ", "ê²½ê³„ ì œê±°", "ë¼ë²¨ ì¬ë°°ì—´"], "answer": 1},
    {"q": "Random Oversamplingì˜ ë‹¨ì ì€?", "options": ["ê³¼ì í•© ìœ„í—˜", "ì •ë³´ ì†ì‹¤", "ì†ë„ ì €í•˜ ì—†ìŒ", "ê²½ê³„ ì•…í™”"], "answer": 1},
    {"q": "SMOTEì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ”?", "options": ["ë³´ê°„ìœ¼ë¡œ ê°€ìƒ ìƒ˜í”Œ ìƒì„±", "ë³µì œ", "ê²½ê³„ ìƒ˜í”Œ ì‚­ì œ", "í´ëŸ¬ìŠ¤í„° í‰ê·  ìƒì„±"], "answer": 1},
    {"q": "SMOTEì—ì„œ ìƒˆ ìƒ˜í”Œì€ ì–´ë””ì— ìœ„ì¹˜í•˜ëŠ”ê°€?", "options": ["ì›ì ", "ë‘ ì†Œìˆ˜ ì´ì›ƒ ì‚¬ì´ ì„ ë¶„ ìƒ", "ë‹¤ìˆ˜ ì¤‘ì‹¬", "ë¬´ì‘ìœ„"], "answer": 2},
    {"q": "SMOTEì—ì„œ këŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?", "options": ["ì´ì›ƒ ìˆ˜", "í´ë˜ìŠ¤ ìˆ˜", "ë°°ì¹˜ í¬ê¸°", "íŠ¹ì§• ìˆ˜"], "answer": 1},
    {"q": "SMOTEì˜ ê¸°ëŒ€ íš¨ê³¼ëŠ”?", "options": ["ê²½ê³„ ê°œì„ ", "ì†ë„ ì €í•˜", "ì •ë³´ ì†ì‹¤", "ë¼ë²¨ ë³€ê²½"], "answer": 1},
    {"q": "Borderline-SMOTEê°€ ì§‘ì¤‘í•˜ëŠ” ì˜ì—­ì€?", "options": ["ì•ˆì „ì˜ì—­", "ê²½ê³„ ì¸ê·¼", "ë¬´ì‘ìœ„", "ë‹¤ìˆ˜ ì¤‘ì‹¬"], "answer": 2},
    {"q": "Borderline-SMOTEì˜ ì¥ì ì€?", "options": ["ê²°ì •ê²½ê³„ í•™ìŠµ ê°•í™”", "ë°ì´í„° ì¶•ì†Œ", "ë¼ë²¨ ì •ê·œí™”", "ì •í™•ë„ í•˜ë½"], "answer": 1},
    {"q": "Borderline-SMOTEì—ì„œ â€˜Dangerâ€™ ìƒ˜í”Œì€?", "options": ["ì£¼ë³€ì´ ëŒ€ë¶€ë¶„ ë‹¤ìˆ˜ í´ë˜ìŠ¤", "ì™„ì „ ì•ˆì „", "ë…¸ì´ì¦ˆ í™•ì •", "ë‹¤ìˆ˜ ì¤‘ì‹¬"], "answer": 1},
    {"q": "ADASYNì˜ ì² í•™ì€?", "options": ["ê· ì¼ ìƒì„±", "ë‚œì´ë„ ê°€ì¤‘ ìƒì„±", "ë‹¤ìˆ˜ ì¶•ì†Œ", "ë¼ë²¨ ë³€ê²½"], "answer": 2},
    {"q": "ADASYNì˜ r_iëŠ” ë¬´ì—‡ì„ ëœ»í•˜ëŠ”ê°€?", "options": ["ë¶„ì‚°", "ì£¼ë³€ ë‹¤ìˆ˜ ë¹„ìœ¨", "ê±°ë¦¬í•©", "ì •í™•ë„"], "answer": 2},
    {"q": "ADASYNì€ ì–´ëŠ ì˜ì—­ì— ë” ë§ì´ ìƒì„±í•˜ëŠ”ê°€?", "options": ["ì•ˆì „ì˜ì—­", "ê²½ê³„/ì–´ë ¤ìš´ ì˜ì—­", "ë¬´ì‘ìœ„", "ì¤‘ì‹¬ì˜ì—­"], "answer": 2},
    {"q": "SMOTEì™€ ADASYNì˜ ê³µí†µì ì€?", "options": ["ê°€ìƒìƒ˜í”Œ ìƒì„± ê¸°ë°˜", "ë‹¤ìˆ˜ ì¶•ì†Œ", "ë¼ë²¨ ì •ì •", "ì°¨ì›ì¶•ì†Œ"], "answer": 1},
    {"q": "ì˜¤ë²„ìƒ˜í”Œë§ì˜ ì¥ì ì€?", "options": ["ì •ë³´ ë³´ì¡´", "ë°ì´í„° ì¶•ì†Œ", "í•­ìƒ ê³¼ì í•© ê°ì†Œ", "ë¼ë²¨ ì •ì œ"], "answer": 1},
    {"q": "ì˜¤ë²„ìƒ˜í”Œë§ì˜ ë‹¨ì ì€?", "options": ["ê³¼ì í•©/ê³„ì‚° ì¦ê°€", "ì •ë³´ ì†ì‹¤", "ë¼ë²¨ ì†ìƒ", "í•­ìƒ ì •í™•ë„â†“"], "answer": 1},
    {"q": "Random Oversampling ëŒ€ë¹„ SMOTEì˜ ì´ì ì€?", "options": ["ë³µì œ ìµœì†Œí™”ë¡œ ê³¼ì í•© ì™„í™”", "ì†ë„ í–¥ìƒ", "ê²°ì¸¡ ì œê±°", "í´ë˜ìŠ¤ ì¶•ì†Œ"], "answer": 1},
    {"q": "Borderline-SMOTEì˜ ì ìš© ëª©ì ì€?", "options": ["ê²½ê³„ì—ì„œ ë¶„ë¥˜ ì„±ëŠ¥ í–¥ìƒ", "ë¼ë²¨ ë³€ê²½", "ê²°ì¸¡ ëŒ€ì²´", "í”¼ì²˜ ì„ íƒ"], "answer": 1},
    {"q": "SMOTEì˜ ìƒì„± ìˆ˜ë¥¼ ì¡°ì ˆí•˜ëŠ” ì£¼ ìš”ì†ŒëŠ”?", "options": ["ìƒ˜í”Œ ê°€ì¤‘ì¹˜", "ì´ì›ƒ ìˆ˜ì™€ ì¦ê°• ë¹„ìœ¨", "ë°°ì¹˜ í¬ê¸°", "ëŸ¬ë‹ë ˆì´íŠ¸"], "answer": 2},
    {"q": "ì˜¤ë²„ìƒ˜í”Œë§ ì‹œ ë¯¼ê°í•œ ë°ì´í„° ìœ í˜•ì€?", "options": ["ë…¸ì´ì¦ˆ/ì´ìƒì¹˜ í¬í•¨ ë°ì´í„°", "ì™„ì „ ì •ê·œ ë°ì´í„°", "ì •í˜• í…Œì´ë¸” ì—†ìŒ", "ë¼ë²¨ ì—†ëŠ” ë°ì´í„°"], "answer": 1},
    {"q": "SMOTEê°€ ì˜ ì‘ë™í•˜ê¸° ì–´ë ¤ìš´ ìƒí™©ì€?", "options": ["ì„ í˜• ê²½ê³„", "ë³µì¡í•œ ë‹¤ì¤‘ ëª¨ë“œ ê²½ê³„/ë…¸ì´ì¦ˆ", "í´ë˜ìŠ¤ ê· í˜•", "í‘œë³¸ ë§ìŒ"], "answer": 2},
    {"q": "ADASYNì˜ ì´ ìƒì„±ëŸ‰ G ë¶„ë°° ê¸°ì¤€ì€?", "options": ["ê· ë“±", "ì •ê·œë¶„í¬", "ì •ê·œí™”ëœ r_i ë¹„ìœ¨", "ë¬´ì‘ìœ„"], "answer": 3},
    {"q": "ì˜¤ë²„ìƒ˜í”Œë§ í›„ í‰ê°€ ì‹œ ì£¼ë¡œ í™•ì¸í•  ìš”ì†ŒëŠ”?", "options": ["Recall/F1 ë³€í™”", "RMSE", "AIC", "BIC"], "answer": 1},
    {"q": "ê²½ê³„ ê·¼ì²˜ì—ì„œ ì†Œìˆ˜ ìƒ˜í”Œì„ ë” ìƒì„±í•˜ëŠ” ì´ìœ ëŠ”?", "options": ["ì •í™•ë„ ê°ì†Œ ìœ ë„", "ê²°ì •ê²½ê³„ í•™ìŠµ ê°•í™”", "í”¼ì²˜ ìˆ˜ ì¦ê°€", "ì†ë„ ê°œì„ "], "answer": 2},
    {"q": "ì˜¤ë²„ìƒ˜í”Œë§ ì ìš© ìˆœì„œëŠ” ë³´í†µ?", "options": ["í•™ìŠµ í›„ ì ìš©", "í•™ìŠµ ì „ í›ˆë ¨ ë°ì´í„°ì—ë§Œ ì ìš©", "í…ŒìŠ¤íŠ¸ì—ë„ ë™ì¼ ì ìš©", "ë°°í¬ ë‹¨ê³„ ì ìš©"], "answer": 2},
    {"q": "ìƒ˜í”Œë§ ì „ì²˜ë¦¬ì˜ ê³µí†µ ëª©í‘œëŠ”?", "options": ["ëª¨ë¸ ì¼ë°˜í™” í–¥ìƒ", "ëª¨ë¸ ë³µì¡í™”", "ë¼ë²¨ ë³€ê²½", "í”¼ì²˜ ì œê±°"], "answer": 1},

    # 76~101: ì´ìƒíƒì§€(24pê¹Œì§€: ê°œë…/í™•ë¥ ê¸°ë°˜/ê±°ë¦¬ê¸°ë°˜)
    {"q": "ì´ìƒíƒì§€ì˜ ëª©ì ì€?", "options": ["ì •ìƒ íŒ¨í„´ ê°•í™”", "ë¹„ì •ìƒ íŒ¨í„´ íƒì§€", "ë¼ë²¨ë§", "ì •ê·œí™”"], "answer": 2},
    {"q": "Outlierì™€ Noiseì˜ êµ¬ë¶„ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?", "options": ["ë™ì¼ ê°œë…", "NoiseëŠ” ë¬´ì‘ìœ„ ì˜¤ì°¨, OutlierëŠ” ìƒì„± ë©”ì»¤ë‹ˆì¦˜ ì´íƒˆ", "Outlier=ì˜¤ë¥˜ ë°ì´í„°ë§Œ", "Noise=í•­ìƒ ì´ìƒ"], "answer": 2},
    {"q": "Global/Contextual/CollectiveëŠ” ë¬´ì—‡ì˜ ìœ í˜•ì¸ê°€?", "options": ["ìƒ˜í”Œë§ ë°©ë²•", "ì´ìƒì¹˜ ìœ í˜•", "í‰ê°€ ì§€í‘œ", "ì†ì‹¤í•¨ìˆ˜"], "answer": 2},
    {"q": "Contextual Outlierì˜ ì˜ˆì‹œëŠ”?", "options": ["ì „ì²´ ë¶„í¬ì—ì„œ ë²—ì–´ë‚¨", "íŠ¹ì • ë§¥ë½(ì˜ˆ: ê³„ì ˆ)ì—ì„œë§Œ ë¹„ì •ìƒ", "ì§‘í•© íŒ¨í„´ ì´ìƒ", "ë…¸ì´ì¦ˆ"], "answer": 2},
    {"q": "Collective OutlierëŠ”?", "options": ["ë‹¨ì¼ ì  ì´ìƒ", "ì—¬ëŸ¬ ì ì´ í•¨ê»˜ ë¹„ì •ìƒ íŒ¨í„´", "ë…¸ì´ì¦ˆ", "ë¼ë²¨ ì˜¤ë¥˜"], "answer": 2},
    {"q": "í™•ë¥ ë°€ë„ ê¸°ë°˜ ì´ìƒíƒì§€ì˜ ì›ë¦¬ëŠ”?", "options": ["ê±°ë¦¬ ìµœì†Ÿê°’", "ë°€ë„ê°€ ë‚®ìœ¼ë©´ ì´ìƒ", "ë¼ë²¨ ë¹ˆë„", "íšŒê·€ì„ ê³¼ ê±°ë¦¬"], "answer": 2},
    {"q": "ì •ìƒ ë°ì´í„°ë§Œìœ¼ë¡œ ë¶„í¬ë¥¼ ì¶”ì •í•œ ë’¤ p(x) ì„ê³„ê°’ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ë°©ì‹ì€?", "options": ["ì§€ë„í•™ìŠµ", "ì¤€ì§€ë„/ë¹„ì§€ë„ ë°©ì‹", "ê°•í™”í•™ìŠµ", "í´ëŸ¬ìŠ¤í„°ë§Œ"], "answer": 2},
    {"q": "ë‹¨ë³€ëŸ‰ ì •ê·œë¶„í¬ ê¸°ì¤€ ì´ìƒ íŒë‹¨ì— í”íˆ ì“°ëŠ” ê°’ì€?", "options": ["í‰ê· Â±3Ïƒ", "í‰ê· Â±0.5Ïƒ", "í‰ê· Â±0.1Ïƒ", "í‰ê· Â±10Ïƒ"], "answer": 1},
    {"q": "z-scoreê°€ í° ì–‘ìˆ˜/ìŒìˆ˜ì´ë©´ ë³´í†µ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?", "options": ["ì¤‘ì•™ê°’ ê·¼ì²˜", "í‰ê·  ê·¼ì²˜", "ì´ìƒ ê°€ëŠ¥ì„± ì¦ê°€", "í•­ìƒ ì •ìƒ"], "answer": 3},
    {"q": "ë‹¤ë³€ëŸ‰ì—ì„œ ìŠ¤ì¼€ì¼/ìƒê´€ì„ ê³ ë ¤í•œ ê±°ë¦¬ëŠ”?", "options": ["ìœ í´ë¦¬ë“œ", "ë§¨í•´íŠ¼", "ë§ˆí• ë¼ë…¸ë¹„ìŠ¤", "ì½”ì‚¬ì¸"], "answer": 3},
    {"q": "Mahalanobis ê±°ë¦¬ ê³„ì‚°ì— í•„ìš”í•œ í–‰ë ¬ì€?", "options": ["ìƒê´€í–‰ë ¬ ì—­í–‰ë ¬", "ê³µë¶„ì‚°í–‰ë ¬ ì—­í–‰ë ¬", "ë‹¨ìœ„í–‰ë ¬", "ì˜í–‰ë ¬"], "answer": 2},
    {"q": "ì„ê³„ê°’ Î±=0.05ì˜ ì¼ë°˜ì  í•´ì„ì€?", "options": ["ìƒìœ„ 5% ì´ìƒì¹˜", "í•˜ìœ„ 5%ë¥¼ ì´ìƒìœ¼ë¡œ ê°„ì£¼", "50% ì´ìƒì¹˜", "ì„ê³„ê°’ ë¯¸ì‚¬ìš©"], "answer": 2},
    {"q": "ì •ìƒ ë¶„í¬ ì¶”ì • ì‹œ ë¬´ì—‡ì„ ë¨¼ì € êµ¬í•˜ëŠ”ê°€?", "options": ["í‰ê· ê³¼ ë¶„ì‚°(ë˜ëŠ” ê³µë¶„ì‚°)", "ì¤‘ì•™ê°’ë§Œ", "ìµœë¹ˆê°’ë§Œ", "ì‚¬ë¶„ìœ„ìˆ˜ë§Œ"], "answer": 1},
    {"q": "ë°€ë„ê¸°ë°˜ ì ‘ê·¼ì—ì„œ ë¡œê·¸ìš°ë„(log-likelihood)ë¥¼ ì“°ëŠ” ì´ìœ ëŠ”?", "options": ["ê°’ì„ í‚¤ìš°ê¸° ìœ„í•´", "ìˆ˜ì¹˜ ì•ˆì •ì„±/ê³±ì„ í•©ìœ¼ë¡œ ë³€í™˜", "ë¼ë²¨ ìƒì„±", "ì •ê·œí™”"], "answer": 2},
    {"q": "ê±°ë¦¬ê¸°ë°˜ ì´ìƒíƒì§€ì˜ í•µì‹¬ì€?", "options": ["ë°€ë„ì¶”ì •", "ê·¼ì ‘ë„/ê±°ë¦¬ ì„ê³„", "ë¼ë²¨ë¹ˆë„", "íšŒê·€ê³„ìˆ˜"], "answer": 2},
    {"q": "k-NN ê±°ë¦¬ê¸°ë°˜ ì´ìƒë„ì—ì„œ kë¥¼ í¬ê²Œ í•˜ë©´?", "options": ["ì§€ì—­ì„± ê°ì†Œ", "ì§€ì—­ì„± ì¦ê°€", "í•­ìƒ ì •í™•ë„â†‘", "ë¼ë²¨ í•„ìš”"], "answer": 1},
    {"q": "ì´ìƒíƒì§€ì—ì„œ ì„ê³„ê°’ ì„¤ì •ì´ ë„ˆë¬´ ì—„ê²©í•˜ë©´?", "options": ["ê±°ì§“ì–‘ì„±â†‘", "ê±°ì§“ìŒì„±â†‘", "ì •í™•ë„ í•­ìƒâ†‘", "ë³€ë™ì„±â†“"], "answer": 2},
    {"q": "ì„ê³„ê°’ ì„¤ì •ì´ ë„ˆë¬´ ëŠìŠ¨í•˜ë©´?", "options": ["ê±°ì§“ì–‘ì„±â†‘", "ê±°ì§“ìŒì„±â†‘", "ë‘˜ ë‹¤ 0", "ì˜í–¥ ì—†ìŒ"], "answer": 1},
    {"q": "Contextë¥¼ ë°˜ì˜í•˜ì§€ ì•Šìœ¼ë©´ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œëŠ”?", "options": ["Globalë§Œ íƒì§€", "ë§¥ë½ì  ì´ìƒ íƒì§€ ì‹¤íŒ¨", "Collectiveë§Œ íƒì§€", "ì •ìƒë§Œ í‘œê¸°"], "answer": 2},
    {"q": "ì´ìƒíƒì§€ì—ì„œ ì •ìƒ ë°ì´í„°ë§Œ í’ë¶€í•  ë•Œ ì í•©í•œ ì„¤ì •ì€?", "options": ["ì´ì§„ ì§€ë„í•™ìŠµ", "ì¼ë¥˜(one-class) ê¸°ë°˜", "ê°•í™”í•™ìŠµ", "ì „ì²˜ë¦¬ë§Œ"], "answer": 2},
    {"q": "í™•ë¥  ê¸°ë°˜/ê±°ë¦¬ ê¸°ë°˜ ê³µí†µì˜ ì¤‘ìš”í•œ ìš”ì†ŒëŠ”?", "options": ["ë¼ë²¨ í’ˆì§ˆ", "ì„ê³„ê°’/ë¬¸í„±ê°’ ì„¤ì •", "ë°°ì¹˜ í¬ê¸°", "í•™ìŠµë¥ "], "answer": 2},
    {"q": "ë°€ë„ê¸°ë°˜ ë°©ì‹ì˜ ì¥ì ì€?", "options": ["ë¶„í¬ í˜•íƒœë¥¼ ë°˜ì˜ ê°€ëŠ¥", "ë¼ë²¨ ë¶ˆí•„ìš” ì—†ìŒ", "í•­ìƒ ì„ í˜•", "ì°¨ì› ì˜í–¥ ç„¡"], "answer": 1},
    {"q": "ê±°ë¦¬ê¸°ë°˜ ë°©ì‹ì˜ ë‹¨ì ì€?", "options": ["ìŠ¤ì¼€ì¼/ìƒê´€ ë¯¼ê°", "ë¶„í¬ ë°˜ì˜", "ë¼ë²¨ í•„ìš”", "í•­ìƒ ìµœì "], "answer": 1},
    {"q": "ë§ˆí• ë¼ë…¸ë¹„ìŠ¤ ê±°ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ê°œì„ ë˜ëŠ” ì ì€?", "options": ["ìƒê´€/ìŠ¤ì¼€ì¼ ë°˜ì˜", "ë¼ë²¨ ìƒì„±", "ì†ë„ í•­ìƒâ†‘", "ì„ê³„ ìë™"], "answer": 1},
    {"q": "ì´ìƒíƒì§€ íŒŒì´í”„ë¼ì¸ì—ì„œ ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ”?", "options": ["íŠ¹ì§•í•™ìŠµ", "ì„ê³„ ì ìš© ë° ì´ìƒ íŒì •", "ìŠ¤ì¼€ì¼ë§", "ë¼ë²¨ë§"], "answer": 2}
]



# =========================
# 2) ìœ í‹¸: ë³´ê¸° ì„ê¸° & ì´ˆê¸°í™” í•¨ìˆ˜
# =========================
def shuffle_question(qobj):
    """ë³´ê¸°ë¥¼ ì„ê³ , ì •ë‹µ ì¸ë±ìŠ¤ë¥¼ ì¬ê³„ì‚°"""
    opts = qobj["options"]
    correct_idx_0based = qobj["answer"] - 1
    paired = list(enumerate(opts))  # (ì›ë˜ì¸ë±ìŠ¤, ë³´ê¸°ë¬¸ìì—´)
    random.shuffle(paired)
    new_options = [t for _, t in paired]
    new_answer = None
    for new_i, (orig_i, _) in enumerate(paired):
        if orig_i == correct_idx_0based:
            new_answer = new_i + 1  # 1-based
            break
    return {
        "q": qobj["q"],
        "options": new_options,
        "answer": new_answer,
        "exp": qobj.get("exp", "")
    }

def init_quiz(num, shuffle_opt):
    pool = random.sample(QUESTIONS, k=num)
    if shuffle_opt:
        pool = [shuffle_question(q) for q in pool]
    st.session_state.quiz = pool
    st.session_state.current = 0
    st.session_state.score = 0
    st.session_state.finished = False
    st.session_state.history = []
    st.session_state.config_num_select = num
    st.session_state.config_shuffle_opt = shuffle_opt

# =========================
# 3) ì‚¬ì´ë“œë°” ì„¤ì • + ì ìš© ë²„íŠ¼
# =========================
with st.sidebar:
    st.markdown("### ì„¤ì •")
    total_pool = len(QUESTIONS)
    # ì´ˆê¸° ê¸°ë³¸ê°’(ì„¸ì…˜ ì—†ì„ ë•Œë§Œ ì‚¬ìš©)
    default_num = min(20, total_pool)

    # í˜„ì¬ ì„¸ì…˜ì— ì„¤ì •ê°’ì´ ìˆìœ¼ë©´ ê·¸ê±¸ ê¸°ë³¸ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°
    cur_num = st.session_state.get("config_num_select", default_num)
    cur_shuffle = st.session_state.get("config_shuffle_opt", True)

    num_select = st.number_input(
        "ì¶œì œ ë¬¸í•­ ìˆ˜", min_value=1, max_value=total_pool, value=cur_num, step=1
    )
    shuffle_opt = st.checkbox("ë³´ê¸° ìˆœì„œ ì„ê¸°", value=cur_shuffle)

    # ì ìš© ë²„íŠ¼: í˜„ì¬ í€´ì¦ˆë¥¼ ì¦‰ì‹œ ì¬ì´ˆê¸°í™”
    apply_clicked = st.button("ì ìš©(ì¬ì„¤ì •)")

# =========================
# 4) ìµœì´ˆ ì‹¤í–‰ / ì ìš© ì²˜ë¦¬
# =========================
# ì„¸ì…˜ì— í€´ì¦ˆê°€ ì—†ìœ¼ë©´ ìµœì´ˆ ì´ˆê¸°í™”
if "quiz" not in st.session_state:
    init_quiz(int(num_select), bool(shuffle_opt))

# ì‚¬ìš©ìê°€ ì ìš©ì„ ëˆŒë €ë‹¤ë©´ ì¦‰ì‹œ ì¬ì´ˆê¸°í™”
if apply_clicked:
    init_quiz(int(num_select), bool(shuffle_opt))
    st.rerun()

quiz = st.session_state.quiz
current = st.session_state.current
total = len(quiz)

# ì§„í–‰ìƒíƒœ í‘œì‹œ
st.progress((current / total) if total > 0 else 0)
st.caption(f"ë¬¸í•­ ì§„í–‰: {current}/{total}")

# =========================
# 5) í€´ì¦ˆ ì§„í–‰
# =========================
if not st.session_state.finished:
    q = quiz[current]
    st.subheader(f"ë¬¸ì œ {current+1} / {total}")
    st.write(q["q"])
    choice = st.radio("ì •ë‹µì„ ì„ íƒí•˜ì„¸ìš”:", q["options"], key=f"opt_{current}", index=0)

    col1, col2 = st.columns(2)
    with col1:
        if st.button("ì œì¶œí•˜ê¸°", use_container_width=True):
            correct_txt = q["options"][q["answer"] - 1]
            is_correct = (choice == correct_txt)
            if is_correct:
                st.success("âœ… ì •ë‹µì…ë‹ˆë‹¤!")
                st.session_state.score += 1
            else:
                st.error(f"âŒ ì˜¤ë‹µ! ì •ë‹µì€ '{correct_txt}' ì…ë‹ˆë‹¤.")
                if q.get("exp"):
                    st.info(f"í•´ì„¤: {q['exp']}")

            # ê¸°ë¡ ì €ì¥
            st.session_state.history.append({
                "q": q["q"],
                "choice": choice,
                "correct": is_correct,
                "answer": correct_txt,
                "exp": q.get("exp", "")
            })

            # ë‹¤ìŒ ë¬¸í•­ìœ¼ë¡œ
            st.session_state.current += 1
            if st.session_state.current >= total:
                st.session_state.finished = True
            st.rerun()

    with col2:
        if st.button("ê±´ë„ˆë›°ê¸°", use_container_width=True):
            st.session_state.history.append({
                "q": q["q"],
                "choice": None,
                "correct": False,
                "answer": q["options"][q["answer"] - 1],
                "exp": q.get("exp", "")
            })
            st.session_state.current += 1
            if st.session_state.current >= total:
                st.session_state.finished = True
            st.rerun()

# =========================
# 6) ê²°ê³¼ ìš”ì•½
# =========================
else:
    st.subheader("ğŸ“Š ê²°ê³¼ ìš”ì•½")
    score = st.session_state.score
    st.write(f"ì´ ì ìˆ˜: {score} / {total} (ì •ë‹µë¥ : {score/total*100:.1f}%)")
    if score == total:
        st.balloons()
        st.success("ì™„ë²½í•©ë‹ˆë‹¤!")
    elif score >= total * 0.8:
        st.info("ë§¤ìš° ìš°ìˆ˜í•©ë‹ˆë‹¤!")
    elif score >= total * 0.5:
        st.warning("ì ˆë°˜ ì´ìƒ ì´í•´í–ˆìŠµë‹ˆë‹¤. ë³µìŠµì„ ì´ì–´ê°€ì„¸ìš”!")
    else:
        st.error("ë³µìŠµì´ ë” í•„ìš”í•©ë‹ˆë‹¤.")

    wrong_items = [h for h in st.session_state.history if not h["correct"]]
    if wrong_items:
        st.markdown("---")
        st.subheader("ğŸ“Œ ì˜¤ë‹µ ë¦¬ë·°")
        for i, h in enumerate(wrong_items, start=1):
            st.markdown(f"**{i}. {h['q']}**")
            if h["choice"] is None:
                st.write("ë‚´ ì„ íƒ: (ê±´ë„ˆëœ€)")
            else:
                st.write(f"ë‚´ ì„ íƒ: {h['choice']}")
            st.write(f"ì •ë‹µ: {h['answer']}")
            if h["exp"]:
                st.caption(f"í•´ì„¤: {h['exp']}")

    st.markdown("---")
    c1, c2 = st.columns(2)

    with c1:
        if wrong_items and st.button("ì˜¤ë‹µë§Œ ì¬ë„ì „", use_container_width=True):
            # í˜„ì¬ ì„¸íŒ… ìœ ì§€í•œ ì±„ ì˜¤ë‹µë§Œ ë‹¤ì‹œ
            wrong_q_objs = []
            for h in wrong_items:
                for q in quiz:
                    if q["q"] == h["q"]:
                        wrong_q_objs.append(q)
                        break
            random.shuffle(wrong_q_objs)
            # ë³´ê¸° ì„ê¸° ì—¬ë¶€ëŠ” í˜„ì¬ ì„¤ì • ìœ ì§€
            if st.session_state.get("config_shuffle_opt", True):
                wrong_q_objs = [shuffle_question(q) for q in wrong_q_objs]
            st.session_state.quiz = wrong_q_objs
            st.session_state.current = 0
            st.session_state.score = 0
            st.session_state.finished = False
            st.session_state.history = []
            st.rerun()

    with c2:
        if st.button("ì²˜ìŒë¶€í„° ë‹¤ì‹œ", use_container_width=True):
            # í˜„ì¬ ì‚¬ì´ë“œë°” ì„¤ì •ê°’ ìœ ì§€í•œ ì±„ ì „ì²´ ì¬ì„¤ì •
            n = st.session_state.get("config_num_select", min(20, len(QUESTIONS)))
            shuf = st.session_state.get("config_shuffle_opt", True)
            init_quiz(int(n), bool(shuf))
            st.rerun()
