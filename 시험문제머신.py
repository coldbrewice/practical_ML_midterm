# quiz_app.py
# ì›¹ í´ë¦­í˜• Python ì¤‘ê°„ê³ ì‚¬ í€´ì¦ˆ (Streamlit)
# - ë³´ê¸°/ë¬¸í•­ ë¬´ì‘ìœ„
# - ì¦‰ì‹œ ì±„ì /í•´ì„¤
# - ì˜¤ë‹µë§Œ ì¬ë„ì „
# - "ì¶œì œ ë¬¸í•­ ìˆ˜" ë³€ê²½ í›„ [ì ìš©] ë²„íŠ¼ìœ¼ë¡œ ì¦‰ì‹œ ë°˜ì˜
import os, warnings, logging
os.environ.setdefault("PYTHONWARNINGS", "ignore")
warnings.filterwarnings("ignore")
logging.disable(logging.WARNING)
import random
import streamlit as st

st.set_page_config(page_title="ì¸ê³µì§€ëŠ¥ í€´ì¦ˆ ëŒ€ë¹„", layout="wide")
st.title("ğŸ“˜ ì¸ê³µì§€ëŠ¥ í€´ì¦ˆ ë¨¸ì‹ ")

# =========================
# 1) ë¬¸ì œ ë°ì´í„°ì…‹
#    â†’ ì—¬ê¸°ë§Œ ë„¤ 100ë¬¸í•­ìœ¼ë¡œ êµì²´
# =========================
QUESTIONS = [
# ===== ì œ05ì¥ ì§€ì‹í‘œí˜„ (30ë¬¸í•­) =====
{"q":"ë°ì´í„°â†’ì •ë³´â†’ì§€ì‹â†’ì§€í˜œì˜ ê´€ê³„ë¥¼ ê°€ì¥ ì˜¬ë°”ë¥´ê²Œ ë‚˜íƒ€ë‚¸ ê²ƒì€?", "options":["ë°ì´í„°â†’ì •ë³´â†’ì§€ì‹â†’ì§€í˜œ","ì •ë³´â†’ë°ì´í„°â†’ì§€ì‹â†’ì§€í˜œ","ì§€ì‹â†’ì •ë³´â†’ë°ì´í„°â†’ì§€í˜œ","ë°ì´í„°â†’ì§€ì‹â†’ì •ë³´â†’ì§€í˜œ"], "answer":1},
{"q":"ì˜ë¯¸ë§(semantic network)ì˜ ê¸°ë³¸ êµ¬ì„± ìš”ì†ŒëŠ”?", "options":["ë…¸ë“œì™€ ê°„ì„ ","ì¡°ê±´ê³¼ ê²°ë¡ ","ê°ì²´ì™€ ì†ì„±","íŒ¨í„´ê³¼ ê·œì¹™"], "answer":1},
{"q":"ì˜ë¯¸ë§ì—ì„œ is-a ê´€ê³„ì˜ íŠ¹ì§•ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?", "options":["ìƒìœ„ ì†ì„± ìƒì†","ë¹„ì¶”ì´ì  ê´€ê³„","ë¶€ë¶„-ì „ì²´ ê´€ê³„","ì‹œê°„ ê´€ê³„"], "answer":1},
{"q":"ì˜ë¯¸ë§ì—ì„œ has-aëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?", "options":["ì „ì²´-ë¶€ë¶„ ê´€ê³„","í´ë˜ìŠ¤-ì¸ìŠ¤í„´ìŠ¤","ìƒì†","ë™ì¹˜"], "answer":1},
{"q":"í”„ë ˆì„(frame)ì„ ì œì•ˆí•œ ì‚¬ëŒì€?", "options":["Marvin Minsky","Lotfi Zadeh","Gottlob Frege","Tim Berners-Lee"], "answer":1},
{"q":"í”„ë ˆì„ì—ì„œ ì†ì„±ì„ ë‹´ëŠ” ìš”ì†ŒëŠ”?", "options":["ìŠ¬ë¡¯(slot)","ë…¸ë“œ(node)","ë¦¬í„°ëŸ´(literal)","ì ˆ(clause)"], "answer":1},
{"q":"í”„ë ˆì„ ìŠ¬ë¡¯ì— ë¶€ê°€ ì •ë³´ë¥¼ ë¶™ì´ëŠ” ìš”ì†ŒëŠ”?", "options":["íŒ¨ì‹¯(facet)","ë°ëª¬(demon)","ë©”ì†Œë“œ(method)","íŠ¸ë¦¬í”Œ"], "answer":1},
{"q":"í”„ë ˆì„ì˜ if-needed ë°ëª¬ì€ ì–¸ì œ ì‹¤í–‰ë˜ëŠ”ê°€?", "options":["ìŠ¬ë¡¯ ê°’ì„ ì‚¬ìš©í•  ë•Œ","ê°’ì´ ì¶”ê°€ë  ë•Œ","ê°’ì´ ì‚­ì œë  ë•Œ","í”„ë ˆì„ ë¡œë“œ ì‹œ"], "answer":1},
{"q":"í”„ë ˆì„ì˜ class/instance ê´€ê³„ì—ì„œ í•˜ìœ„ í”„ë ˆì„ì´ ìƒì†ë°›ëŠ” ê²ƒì€?", "options":["ìƒìœ„ ìŠ¬ë¡¯ê³¼ ê¸°ë³¸ê°’","í•˜ìœ„ì˜ ì „ìš© ë©”ì†Œë“œ","ì™¸ë¶€ í•¨ìˆ˜","ì´ë²¤íŠ¸ í"], "answer":1},
{"q":"ì˜ë¯¸ë§â†’í”„ë ˆì„ ë³€í™˜ ì‹œ ê°„ì„ ì€ ë³´í†µ ë¬´ì—‡ì´ ë˜ëŠ”ê°€?", "options":["ìŠ¬ë¡¯","ë…¸ë“œ","ë°ëª¬","íŒ¨ì‹¯"], "answer":1},
{"q":"ì‹œë§¨í‹± ì›¹ì˜ ëª©í‘œëŠ”?", "options":["ê¸°ê³„ê°€ ì˜ë¯¸ë¥¼ ì´í•´í•˜ê³  ì¶”ë¡ ","ë„¤íŠ¸ì›Œí¬ ì†ë„ í–¥ìƒ","ì´ë¯¸ì§€ ì••ì¶• í–¥ìƒ","UI ì¼ê´€ì„± ê°œì„ "], "answer":1},
{"q":"ì‹œë§¨í‹± ì›¹ í•µì‹¬ ê¸°ìˆ ì´ ì•„ë‹Œ ê²ƒì€?", "options":["RDF","OWL","SPARQL","SMOTE"], "answer":4},
{"q":"ëª…ì œ(proposition)ì˜ ì •ì˜ëŠ”?", "options":["ì°¸/ê±°ì§“ íŒë³„ ê°€ëŠ¥í•œ ë¬¸ì¥","ì£¼ì–´-ìˆ ì–´ êµ¬ì¡°","ê°ì²´ì˜ ì†ì„±","ì¶”ë¡  ê·œì¹™"], "answer":1},
{"q":"ëª…ì œë…¼ë¦¬ì—ì„œ ë¦¬í„°ëŸ´(literal)ì´ë€?", "options":["ëª…ì œê¸°í˜¸ í˜¹ì€ ê·¸ ë¶€ì •","ëª…ì œê¸°í˜¸ì˜ ì§‘í•©","ì ˆì˜ ì§‘í•©","CNF ì „ì²´"], "answer":1},
{"q":"CNF(ë…¼ë¦¬ê³± ì •ê·œí˜•)ì˜ êµ¬ì¡°ëŠ”?", "options":["ë…¼ë¦¬í•© ì ˆë“¤ì˜ ë…¼ë¦¬ê³±","ë…¼ë¦¬ê³± ì ˆë“¤ì˜ ë…¼ë¦¬í•©","ë‹¨ì¼ ë¦¬í„°ëŸ´","í•­ì§„ì‹ì˜ ëª¨ìŒ"], "answer":1},
{"q":"íƒ€ë‹¹í•œ ë…¼ë¦¬ì‹(í•­ì§„ì‹)ì˜ ì •ì˜ëŠ”?", "options":["ëª¨ë“  ëª¨ë¸ì—ì„œ ì°¸","ì¼ë¶€ ëª¨ë¸ì—ì„œ ì°¸","ëª¨ë“  ëª¨ë¸ì—ì„œ ê±°ì§“","í•´ì„ ë¶ˆê°€"], "answer":1},
{"q":"ëª¨ë”ìŠ¤ í¬ë„ŒìŠ¤ì˜ í˜•ì‹ì€?", "options":["Aâ†’B, A âŠ¢ B","Aâ†’B, Â¬B âŠ¢ Â¬A","Aâ†’B, Bâ†’C âŠ¢ Aâ†’C","Aâˆ¨B, Â¬A âŠ¢ A"], "answer":1},
{"q":"ë¶€ì • ë…¼ë²•(Modus Tollens)ì˜ í˜•ì‹ì€?", "options":["Aâ†’B, Â¬B âŠ¢ Â¬A","Aâ†’B, A âŠ¢ B","Aâˆ¨B, Â¬A âŠ¢ B","Aâˆ§B âŠ¢ Aâˆ¨B"], "answer":1},
{"q":"ì‚¼ë‹¨ë…¼ë²•(syllogism)ì˜ ì „í˜•ì  í˜•íƒœëŠ”?", "options":["Aâ†’B, Bâ†’C âŠ¢ Aâ†’C","Aâ†’B, A âŠ¢ B","Aâˆ¨B, Â¬A âŠ¢ B","Aâˆ§B âŠ¢ A"], "answer":1},
{"q":"ë…¼ë¦¬ìœµí•©(resolution)ì´ ë‹¤ë£¨ëŠ” ê²ƒì€?", "options":["ìƒë°˜ ë¦¬í„°ëŸ´ ì œê±°í•´ ìƒˆ ì ˆ ìƒì„±","ëª…ì œê¸°í˜¸ ìˆ˜ ì¤„ì´ê¸°","ì§„ë¦¬í‘œ ìµœì†Œí™”","ëª¨í˜• ì´ë¡  ì¦ëª…"], "answer":1},
{"q":"ë…¼ë¦¬ì  ê·€ê²° Î”âŠ¨Ï‰ì˜ ì˜ë¯¸ëŠ”?", "options":["Î”ì˜ ëª¨ë“  ëª¨ë¸ì—ì„œ Ï‰ë„ ì°¸","Î”ê°€ ê±°ì§“ì´ë©´ Ï‰ê°€ ì°¸","Ï‰ê°€ Î”ë¥¼ í¬í•¨","Î”ì™€ Ï‰ê°€ ë™ì¹˜"], "answer":1},
{"q":"ì„ì˜ì˜ wffë¥¼ CNFë¡œ ë°”ê¾¸ëŠ” ì´ìœ ëŠ”?", "options":["ë…¼ë¦¬ìœµí•© ì ìš©ì„ ìœ„í•´","ì§„ë¦¬í‘œ ì‘ì„±ì„ ìœ„í•´","ëª¨ë¸ ìˆ˜ ê°ì†Œ","í•­ì§„ì‹ ê²€ì¶œ"], "answer":1},
{"q":"ë‹¤ìŒ ì¤‘ í•­ìœ„ì‹(í•­ìƒ ê±°ì§“) ì˜ˆì‹œëŠ”?", "options":["Pâˆ§Â¬P","Pâˆ¨Â¬P","(Pâ†’Q)âˆ¨P","Pâˆ¨P"], "answer":1},
{"q":"ë‹¤ìŒ ì¤‘ í•­ì§„ì‹ ì˜ˆì‹œëŠ”?", "options":["Pâˆ¨Â¬P","Pâˆ§Â¬P","P","Â¬P"], "answer":1},
{"q":"â€˜ì†Œí¬ë¼í…ŒìŠ¤ëŠ” ì‚¬ëŒì´ë‹¤, ì‚¬ëŒì€ ì£½ëŠ”ë‹¤â€™ì—ì„œ ê²°ë¡ ì€?", "options":["ì†Œí¬ë¼í…ŒìŠ¤ëŠ” ì£½ëŠ”ë‹¤","ì†Œí¬ë¼í…ŒìŠ¤ëŠ” ë¶ˆë©¸ì´ë‹¤","ì‚¬ëŒì€ ë¶ˆë©¸ì´ë‹¤","ê²°ë¡  ì—†ìŒ"], "answer":1},
{"q":"ë…¼ë¦¬ìœµí•© ë°˜ë°•(resolution refutation)ì˜ í•µì‹¬ ì ˆì°¨ëŠ”?", "options":["ëª©í‘œì˜ ë¶€ì •ì„ ì¶”ê°€í•´ ëª¨ìˆœ ìœ ë„","ëª¨ë“  ëª…ì œë¥¼ ë‚˜ì—´","ì§„ë¦¬í‘œ ì™„ì „ íƒìƒ‰","íœ´ë¦¬ìŠ¤í‹± ì„ íƒ"], "answer":1},
{"q":"CNF ë³€í™˜ ìˆœì„œ ì¤‘ ì˜³ì§€ ì•Šì€ ê²ƒì€?", "options":["í•¨ì˜ ì œê±°","ì´ì¤‘ë¶€ì • ì œê±°","ë³€ìˆ˜í‘œì¤€í™”","ì „ì²´í•œì •ì‚¬ ì¶”ê°€"], "answer":4},
{"q":"ì •ë¦¬ì¦ëª…ì—ì„œ ê³µë¦¬ë€?", "options":["ì°¸ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ë…¼ë¦¬ì‹","ì¶”ë¡  ê²°ê³¼ì‹","í•­ì§„ì‹","ë¬´ê´€ì‹"], "answer":1},
{"q":"Prologì˜ ê¸°ë³¸ ì ˆ í˜•íƒœì— í•´ë‹¹í•˜ëŠ” ê²ƒì€?", "options":["Horn ì ˆ","CNF ì ˆë§Œ","DNF ì ˆë§Œ","ì–‘í™” ë…¼ë¦¬ë§Œ"], "answer":1},
{"q":"Prologì—ì„œ ë°±íŠ¸ë˜í‚¹ì˜ ëª©ì ì€?", "options":["í•´ íƒìƒ‰ì˜ í›„í‡´/ëŒ€ì•ˆ íƒìƒ‰","ë°ì´í„° ì •ë ¬","ë©”ëª¨ë¦¬ í•´ì œ","ë™ì‹œì„± ì œì–´"], "answer":1},

# ===== ì œ06ì¥ í¼ì§€ë…¼ë¦¬ (20ë¬¸í•­) =====
{"q":"í¼ì§€ë…¼ë¦¬ë¥¼ ì²˜ìŒ ì œì•ˆí•œ í•™ìëŠ”?", "options":["Zadeh","Minsky","Frege","Shannon"], "answer":1},
{"q":"í¼ì§€ì§‘í•©ì—ì„œ ì†Œì†í•¨ìˆ˜ Î¼(x)ëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?", "options":["ì§‘í•©ì— ì†í•˜ëŠ” ì •ë„","í™•ë¥ ë°€ë„","ë¹ˆë„ìˆ˜","ì˜¤ë¥˜ìœ¨"], "answer":1},
{"q":"í¬ë¦¬ìŠ¤í”„ ì§‘í•©ê³¼ í¼ì§€ì§‘í•©ì˜ ê°€ì¥ í° ì°¨ì´ëŠ”?", "options":["ê²½ê³„ì˜ ëª¨í˜¸ì„± í—ˆìš©","ì›ì†Œ ê°œìˆ˜","ì •ë ¬ ê°€ëŠ¥ì„±","ì§‘í•© ì—°ì‚° ë¶€ì¬"], "answer":1},
{"q":"í¼ì§€ì§‘í•©ì˜ êµì§‘í•©ì€ ì–´ë–¤ ì—°ì‚°ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ”ê°€?", "options":["min","max","1-Î¼","ê³±"], "answer":1},
{"q":"í¼ì§€ì§‘í•©ì˜ í•©ì§‘í•©ì€ ì–´ë–¤ ì—°ì‚°ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ”ê°€?", "options":["max","min","1-Î¼","ê³±"], "answer":1},
{"q":"í¼ì§€ì§‘í•©ì˜ ì—¬ì§‘í•©ì€ ì–´ë–¤ ì—°ì‚°ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ”ê°€?", "options":["1-Î¼","Î¼1+Î¼2","min","max"], "answer":1},
{"q":"í¼ì§€ì–¸ì–´ë³€ìˆ˜ì˜ ì˜ˆë¡œ ì ì ˆí•œ ê²ƒì€?", "options":["ì˜¨ë„={ë‚®ìŒ,ë³´í†µ,ë†’ìŒ}","ì˜¨ë„={10,20,30}","ì˜¨ë„={True,False}","ì˜¨ë„={A,B,C}"], "answer":1},
{"q":"í¼ì§€ì¶”ë¡  ë‹¨ê³„ì˜ ì˜¬ë°”ë¥¸ ìˆœì„œëŠ”?", "options":["í¼ì§€í™”â†’ê·œì¹™ì ìš©â†’ì§‘ê³„â†’ì—­í¼ì§€í™”","ì—­í¼ì§€í™”â†’í¼ì§€í™”â†’ì§‘ê³„â†’ê·œì¹™","ì§‘ê³„â†’ê·œì¹™â†’í¼ì§€í™”â†’ì—­í¼ì§€í™”","í¼ì§€í™”â†’ì—­í¼ì§€í™”â†’ê·œì¹™â†’ì§‘ê³„"], "answer":1},
{"q":"max-min í¼ì§€ì¶”ë¡ ì—ì„œ ì „ì œë¶€ ì§‘ê³„(OR)ëŠ” ë³´í†µ ë¬´ì—‡ì„ ì“°ëŠ”ê°€?", "options":["max","min","ê³±","í•©"], "answer":1},
{"q":"max-min í¼ì§€ì¶”ë¡ ì—ì„œ í•¨ì¶•(THEN) ì²˜ë¦¬ì— ì“°ì´ëŠ” ì—°ì‚°ì€?", "options":["min","max","ê³±","í•©"], "answer":1},
{"q":"ì—¬ëŸ¬ ê·œì¹™ ê²°ê³¼ë¥¼ í•©ì„±í•  ë•Œ(OR) í”íˆ ì“°ëŠ” ì—°ì‚°ì€?", "options":["max","min","ê³±","ë‚˜ëˆ—ì…ˆ"], "answer":1},
{"q":"ì—­í¼ì§€í™”(defuzzification)ì—ì„œ ì¤‘ì‹¬ì (Centroid)ë²•ì˜ ê°œë…ì€?", "options":["DOMê³¼ xì˜ ê°€ì¤‘í‰ê· ","ìµœëŒ€ DOMì˜ í‰ê· ","ìµœì†Œê°’ì˜ í‰ê· ","ì¤‘ì•™ê°’ ì„ íƒ"], "answer":1},
{"q":"MOM(Mean of Maxima) ë°©ì‹ì˜ ë‹¨ì ì€?", "options":["ìµœëŒ€ë¶€ ì™¸ ì •ë³´ ë¬´ì‹œ","ê³„ì‚°ëŸ‰ ê³¼ë‹¤","ë¶ˆì—°ì†ë§Œ ì²˜ë¦¬","í™•ë¥  í•„ìš”"], "answer":1},
{"q":"ì‚¼ê°í˜• ë©¤ë²„ì‹­ í•¨ìˆ˜ì˜ ëŒ€í‘œê°’ì€ ë³´í†µ?", "options":["ì¤‘ê°„ ê¼­ì§“ì  x","ì¢Œì¸¡ ê¸°ìš¸ê¸°","ìš°ì¸¡ ê¸°ìš¸ê¸°","ê¸°ì € ê¸¸ì´"], "answer":1},
{"q":"ì…ë ¥ ì˜¨ë„=â€˜ì•½ê°„ ë†’ë‹¤â€™(0.6), ê·œì¹™: IF ì˜¨ë„ ë†’ìŒ THEN íŒ¬ ë¹ ë¥´ê²Œ(0.8). ì¶œë ¥ í™•ì‹ ë„ëŠ”?", "options":["0.48","0.14","0.68","0.6"], "answer":1},
{"q":"ë‘ ì „ì œ ANDì˜ ì „ì œ í™•ì‹ ë„ê°€ 0.7, 0.5ì´ê³  ê·œì¹™ cf=0.9ì¼ ë•Œ ì¶œë ¥ í™•ì‹ ë„ëŠ”?", "options":["min(0.7,0.5)Ã—0.9=0.45","(0.7+0.5)/2Ã—0.9=0.54","0.7Ã—0.5Ã—0.9=0.315","maxÃ—0.9=0.63"], "answer":1},
{"q":"ë‘ ì „ì œ ORì˜ ì „ì œ í™•ì‹ ë„ê°€ 0.4, 0.8ì´ê³  ê·œì¹™ cf=0.6ì¼ ë•Œ ì¶œë ¥ í™•ì‹ ë„ëŠ”?", "options":["max(0.4,0.8)Ã—0.6=0.48","minÃ—0.6=0.24","í‰ê· Ã—0.6=0.36","ê³±Ã—0.6=0.192"], "answer":1},
{"q":"í¼ì§€ì œì–´ê°€ ìœ ë¦¬í•œ ë¶„ì•¼ëŠ”?", "options":["ëª¨í˜¸í•œ ì–¸ì–´ ê·œì¹™ í™œìš©","ì •í™•í•œ ë¯¸ë¶„ë°©ì •ì‹ í•„ìš”","ì™„ì „ ê²°ì •ë¡ ì  ì‹œìŠ¤í…œ","ì •ìˆ˜ê³„íš ì „ìš©"], "answer":1},
{"q":"í¼ì§€ë…¼ë¦¬ëŠ” â€˜ì• ë§¤í•œ ë…¼ë¦¬â€™ê°€ ì•„ë‹ˆë¼ëŠ” ì„¤ëª…ì˜ ìš”ì§€ëŠ”?", "options":["ëª¨í˜¸í•¨ì„ ì§ˆì„œì •ì—°í•˜ê²Œ ë‹¤ë£¬ë‹¤","í™•ë¥ ë§Œ ì‚¬ìš©í•œë‹¤","ìˆ˜í•™ì  ê·¼ê±° ì—†ë‹¤","ë¸”ë™ë°•ìŠ¤"], "answer":1},
{"q":"í¼ì§€ ì§‘í•© ì˜ˆ: â€˜í‚¤ í° ì‚¬ëŒâ€™={0.3/170, 0.6/178, 1.0/190}. 178ì˜ ì†Œì†ë„ëŠ”?", "options":["0.6","0.3","1.0","0.0"], "answer":1},

# ===== ì œ07ì¥ ë¶ˆí™•ì‹¤ì„± (25ë¬¸í•­) =====
{"q":"í˜„ì‹¤ì—ì„œ ë¶ˆí™•ì‹¤ì„±ì´ ë°œìƒí•˜ëŠ” ì´ìœ ë¡œ ë³´ê¸° ì–´ë ¤ìš´ ê²ƒì€?", "options":["ì™„ì „í•œ ì¸¡ì •","ì„¼ì„œì˜¤ì°¨","ì§€ì‹ ë¶ˆì™„ì „ì„±","ì „ë¬¸ê°€ ì˜ê²¬ ì°¨ì´"], "answer":1},
{"q":"í™•ë¥ ì  ì¶”ë¡ ì—ì„œ ëª…ì œì˜ ê°’ ë²”ìœ„ëŠ”?", "options":["0~1 ì‹¤ìˆ˜","ì •ìˆ˜","ìŒìˆ˜","ë³µì†Œ"], "answer":1},
{"q":"ìƒí˜¸ ë…ë¦½ ì‚¬ê±´ A,Bì˜ ê²°í•©í™•ë¥ ì€?", "options":["P(A)P(B)","P(A)+P(B)","P(A|B)","P(A)/P(B)"], "answer":1},
{"q":"ì¡°ê±´ë¶€ í™•ë¥  P(A|B)ì˜ ì •ì˜ëŠ”?", "options":["Bê°€ ì£¼ì–´ì¡Œì„ ë•Œ Aì˜ í™•ë¥ ","Aì™€ Bì˜ í•©","Aë§Œì˜ í™•ë¥ ","Bë§Œì˜ í™•ë¥ "], "answer":1},
{"q":"ë² ì´ì¦ˆ ì •ë¦¬ ê¸°ë³¸ì‹ì€?", "options":["P(H|E)=P(E|H)P(H)/P(E)","P(E|H)=P(H|E)/P(H)","P(H)=P(E|H)/P(E)","P(E)=P(H|E)/P(H)"], "answer":1},
{"q":"íŠ¹ì´ë„(Specificity)ëŠ”?", "options":["ì‹¤ì œ ìŒì„± ì¤‘ ìŒì„±ìœ¼ë¡œ ë§ì¶¤","ì‹¤ì œ ì–‘ì„± ì¤‘ ì–‘ì„±ìœ¼ë¡œ ë§ì¶¤","ì˜ˆì¸¡ ì–‘ì„± ì¤‘ ì‹¤ì œ ì–‘ì„±","ì¬í˜„ìœ¨"], "answer":1},
{"q":"ì •ë°€ë„(Precision)ëŠ”?", "options":["ì˜ˆì¸¡ ì–‘ì„± ì¤‘ ì‹¤ì œ ì–‘ì„± ë¹„ìœ¨","ì‹¤ì œ ìŒì„± ì¤‘ ìŒì„± ë¹„ìœ¨","ì „ì²´ ì •í™•ë„","íŠ¹ì´ë„ì™€ ë™ì¼"], "answer":1},
{"q":"ì¬í˜„ìœ¨(Recall, ë¯¼ê°ë„)ì€?", "options":["ì‹¤ì œ ì–‘ì„± ì¤‘ ì–‘ì„±ìœ¼ë¡œ ë§ì¶¤","ì˜ˆì¸¡ ì–‘ì„± ì¤‘ ì‹¤ì œ ì–‘ì„±","ì‹¤ì œ ìŒì„± ì¤‘ ìŒì„±","ì˜¤ë¶„ë¥˜ìœ¨"], "answer":1},
{"q":"F1 ì ìˆ˜ëŠ” ë¬´ì—‡ì˜ ì¡°í™”í‰ê· ì¸ê°€?", "options":["ì •ë°€ë„ì™€ ì¬í˜„ìœ¨","ì •í™•ë„ì™€ íŠ¹ì´ë„","TPì™€ FP","ë¯¼ê°ë„ì™€ íŠ¹ì´ë„"], "answer":1},
{"q":"ì‚¬ì „í™•ë¥ ì´ 0.1, P(ì–‘ì„±|ì§ˆë³‘)=0.9, P(ì–‘ì„±|ë¹„ì§ˆë³‘)=0.3ì¼ ë•Œ ì–‘ì„± ê²°ê³¼ì˜ ì§ˆë³‘ ì‚¬í›„í™•ë¥ ì€?", "options":["0.25","0.5","0.75","0.9"], "answer":1},
{"q":"ë°”ë‚˜ë‚˜ ì„ íƒ ë¬¸ì œ: ê·¸ë¦‡1(ì‚¬ê³¼10,ë°”ë‚˜ë‚˜30), ê·¸ë¦‡2(ì‚¬ê³¼20,ë°”ë‚˜ë‚˜20), ê·¸ë¦‡ ë¬´ì‘ìœ„ ì„ íƒ. ë°”ë‚˜ë‚˜ê°€ ë‚˜ì™”ì„ ë•Œ ê·¸ë¦‡1ì¼ í™•ë¥ ì€?", "options":["(0.5Ã—30/40)/(0.5Ã—30/40+0.5Ã—20/40)=0.6","0.5","0.4","0.3"], "answer":1},
{"q":"ë‘ í•­ì•„ë¦¬: 1ë²ˆ(ë¹¨ê°•50,íŒŒë‘50), 2ë²ˆ(ë¹¨ê°•30,íŒŒë‘70). ë¹¨ê°•ì´ ë‚˜ì™”ë‹¤ë©´ 1ë²ˆ í•­ì•„ë¦¬ì¼ í™•ë¥ ì€?", "options":["(0.5Ã—0.5)/(0.5Ã—0.5+0.5Ã—0.3)=5/8","1/2","3/5","5/6"], "answer":1},
{"q":"ìŠ¤íŒ¸í•„í„°: P(spam)=0.4, P(word|spam)=0.01, P(word|Â¬spam)=0.004. ì œëª©ì— wordê°€ ìˆì„ ë•Œ ìŠ¤íŒ¸ì¼ í™•ë¥ ì€?", "options":["(0.01Ã—0.4)/(0.01Ã—0.4+0.004Ã—0.6)â‰ˆ0.625","0.4","0.5","0.25"], "answer":1},
{"q":"ê²½ê¸°ì¹¨ì²´ ëª¨ë¸: P(recession)=0.2, ë¯¼ê°ë„ 0.8, ìœ„ì–‘ì„± 0.1. ëª¨ë¸ì´ ì¹¨ì²´ë¼ê³  í•  ë•Œ ì‹¤ì œ ì¹¨ì²´ í™•ë¥ ì€?", "options":["(0.8Ã—0.2)/(0.8Ã—0.2+0.1Ã—0.8)=2/3","1/2","0.8","0.2"], "answer":1},
{"q":"ëª¬í‹°í™€ ë¬¸ì œì—ì„œ ì „ëµì ìœ¼ë¡œ ìœ ë¦¬í•œ ì„ íƒì€?", "options":["ë°”ê¾¼ë‹¤","ìœ ì§€í•œë‹¤","ë¬´ê´€í•˜ë‹¤","ë™ì „ ë˜ì§„ë‹¤"], "answer":1},
{"q":"ë² ì´ì¦ˆ ì¶”ë¡ ì˜ í•œê³„ëŠ”?", "options":["ì‚¬ì „í™•ë¥  ìš”êµ¬","ê²€ì • ë¶ˆê°€ëŠ¥","ëª¨ìˆœ ë°œìƒ","ëª¨ë¸ ì—†ìŒ"], "answer":1},
{"q":"í™•ì‹ ë„(CF)ë¥¼ ë„ì…í•œ ì‹œìŠ¤í…œì€?", "options":["MYCIN","ELIZA","Watson","AlphaGo"], "answer":1},
{"q":"CF ê¸°ë³¸ì‹ cf[H,E]=MBâˆ’MDì—ì„œ MB ì˜ë¯¸ëŠ”?", "options":["ë¯¿ìŒì˜ ì •ë„","ë¶ˆì‹ ì˜ ì •ë„","ì˜¤ì°¨","í™•ë¥ ë°€ë„"], "answer":1},
{"q":"MB=0.8, MD=0.6ì¼ ë•Œ ìˆ˜ì •ì‹ cf=(MBâˆ’MD)/(1âˆ’min(MB,MD))ì˜ ê°’ì€?", "options":["0.5","0.2","0.3","0.6"], "answer":1},
{"q":"ë¶ˆí™•ì‹¤í•œ ì¦ê±° cf(E,e)=0.6, ê·œì¹™ cf(H,E)=0.8. cf(H,e)ëŠ”?", "options":["0.48","0.14","0.68","0.6"], "answer":1},
{"q":"AND ì „ì œ cfê°€ 0.7, 0.5ì´ê³  ê·œì¹™ cf=0.9ì´ë©´ ìµœì¢… cfëŠ”?", "options":["0.45","0.63","0.315","0.54"], "answer":1},
{"q":"OR ì „ì œ cfê°€ 0.4, 0.8ì´ê³  ê·œì¹™ cf=0.6ì´ë©´ ìµœì¢… cfëŠ”?", "options":["0.48","0.24","0.36","0.192"], "answer":1},
{"q":"í˜¼ë™í–‰ë ¬ì—ì„œ íŠ¹ì´ë„ëŠ” ìˆ˜ì‹ìœ¼ë¡œ?", "options":["TN/(TN+FP)","TP/(TP+FN)","TP/(TP+FP)","(TP+TN)/(ì „ì²´)"], "answer":1},
{"q":"í˜¼ë™í–‰ë ¬ì—ì„œ ì •ë°€ë„ì˜ ìˆ˜ì‹ì€?", "options":["TP/(TP+FP)","TN/(TN+FP)","TP/(TP+FN)","(TP+TN)/ì „ì²´"], "answer":1},
{"q":"ë¶ˆí™•ì‹¤ì„± ì²˜ë¦¬ì˜ ëª©í‘œì— ê°€ì¥ ê°€ê¹Œìš´ ì„¤ëª…ì€?", "options":["ë¶ˆì™„ì „ ì •ë³´ì—ì„œë„ í•©ë¦¬ì  ì˜ì‚¬ê²°ì •","í•­ìƒ 100% ì •í™•","ì¶”ë¡  ì œê±°","ê²°ì •ì  ê·œì¹™ë§Œ ì‚¬ìš©"], "answer":1},

# ===== ì œ08ì¥ ìœ ì „ì ì•Œê³ ë¦¬ì¦˜ (25ë¬¸í•­) =====
{"q":"ìœ ì „ì ì•Œê³ ë¦¬ì¦˜(GA)ì€ ë¬´ì—‡ì„ ëª¨ë°©í–ˆëŠ”ê°€?", "options":["ìì—°ì„ íƒê³¼ ì§„í™”","ë‰´í„´ì—­í•™","í‘¸ë¦¬ì—í•´ì„","í¼ì§€ì§‘í•©"], "answer":1},
{"q":"GAì˜ í•µì‹¬ ì—°ì‚° 3ê°€ì§€ëŠ”?", "options":["ì„ íƒ, êµì°¨, ëŒì—°ë³€ì´","ì¶”ì¶œ, ë¶„ë¥˜, íšŒê·€","ì •ë ¬, íƒìƒ‰, í•´ì‹œ","ìˆ˜ì§‘, í‰ê· , í•„í„°"], "answer":1},
{"q":"ì í•©ë„(fitness)ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ëŠ”?", "options":["í‰ê°€í•¨ìˆ˜","í™œì„±í•¨ìˆ˜","ì†ì‹¤í•¨ìˆ˜","ì†Œì†í•¨ìˆ˜"], "answer":1},
{"q":"ë£°ë › íœ  ì„ íƒì˜ ì›ë¦¬ëŠ”?", "options":["ì í•©ë„ ë¹„ë¡€ í™•ë¥  ì„ íƒ","ë¬´ì‘ìœ„ ê· ë“± ì„ íƒ","ìµœëŒ€ê°’ë§Œ ì„ íƒ","ìµœì†Œê°’ë§Œ ì„ íƒ"], "answer":1},
{"q":"êµì°¨(crossover)ì˜ ëª©ì ì€?", "options":["ë¶€ëª¨ ìœ ì „ ì •ë³´ ì¬ì¡°í•©","ìƒˆ ê°œì²´ ë¬´ì‘ìœ„ ìƒì„±","ì í•©ë„ ì¸¡ì •","ëŒì—°ë³€ì´ ë°©ì§€"], "answer":1},
{"q":"ëŒì—°ë³€ì´(mutation)ì˜ ì£¼ìš” íš¨ê³¼ëŠ”?", "options":["íƒìƒ‰ ë‹¤ì–‘ì„± ìœ ì§€/êµ­ì†Œí•´ íƒˆì¶œ","ì í•©ë„ ê³ ì •","êµì°¨ ì–µì œ","ì¡°ê¸°ìˆ˜ë ´ ìœ ë„"], "answer":1},
{"q":"GAì˜ ì¢…ë£Œ ì¡°ê±´ìœ¼ë¡œ ì ì ˆí•œ ê²ƒì€?", "options":["ëª©í‘œ ì í•©ë„ ë„ë‹¬ ë˜ëŠ” ë°˜ë³µ ì œí•œ","ë‚œìˆ˜=0 ë°œìƒ","ëª¨ë“  ìœ ì „ì ë™ì¼","ì„¸ëŒ€=1"], "answer":1},
{"q":"0~31 5ë¹„íŠ¸ ì´ì§„ ì—¼ìƒ‰ì²´ì—ì„œ â€˜11111â€™ì˜ ì‹­ì§„ê°’ì€?", "options":["31","15","30","32"], "answer":1},
{"q":"êµì°¨í™•ë¥  0.7, ëŒì—°ë³€ì´í™•ë¥  0.001ë¡œ ìì£¼ ì„¤ì •í•˜ëŠ” ì´ìœ ëŠ”?", "options":["ì¬ì¡°í•© ì¤‘ì‹¬+ì†ŒëŸ‰ íƒìƒ‰ ìœ ì§€","ì™„ì „ ë¬´ì‘ìœ„í™”","íƒìƒ‰ ì¤‘ë‹¨","ìˆ˜ë ´ ë³´ì¥"], "answer":1},
{"q":"ì§€ì—­ìµœëŒ€ì (local optimum) íƒˆì¶œì„ ë•ëŠ” ì—°ì‚°ì€?", "options":["ëŒì—°ë³€ì´","ì„ íƒ","í‰ê°€","ì •ê·œí™”"], "answer":1},
{"q":"8-Queen ì í•©ë„ ì„¤ê³„ë¡œ ì ì ˆí•œ ê²ƒì€?", "options":["ì„œë¡œ ê³µê²©í•˜ì§€ ì•ŠëŠ” ìŒì˜ ìˆ˜","í€¸ ì´í•©","ëŒ€ê°ì„  ê¸¸ì´í•©","ë³´ë“œ ë©´ì "], "answer":1},
{"q":"TSPì—ì„œ ì—¼ìƒ‰ì²´ëŠ” ë³´í†µ ë¬´ì—‡ì„ ë‚˜íƒ€ë‚´ëŠ”ê°€?", "options":["ë„ì‹œ ë°©ë¬¸ ìˆœì—´","ê±°ë¦¬ í–‰ë ¬","ì í•©ë„ ë²¡í„°","í™•ë¥ ë²¡í„°"], "answer":1},
{"q":"ìœ ì „ì í”„ë¡œê·¸ë˜ë°(GP)ì˜ í‘œí˜„ì€?", "options":["íŠ¸ë¦¬ êµ¬ì¡° í”„ë¡œê·¸ë¨","ì´ì§„ ë²¡í„°","ìŠ¤ì¹¼ë¼","ì¸ì ‘í–‰ë ¬"], "answer":1},
{"q":"GPì™€ ì˜ ë§ëŠ” ì–¸ì–´ëŠ”?", "options":["LISP","C","SQL","HTML"], "answer":1},
{"q":"ì„ íƒ ì—°ì‚°ì˜ ë¶€ì‘ìš©ìœ¼ë¡œ ê³¼ë„í•œ ì¡°ê¸°ìˆ˜ë ´ì„ ë§‰ìœ¼ë ¤ë©´?", "options":["ì—˜ë¦¬í‹°ì¦˜+ë‹¤ì–‘ì„± ìœ ì§€","ì„ íƒ í™•ë¥ =0","êµì°¨ ì œê±°","í‰ê°€í•¨ìˆ˜ íê¸°"], "answer":1},
{"q":"ë‹¤ìŒ ì¤‘ GAì— ëŒ€í•œ ì„œìˆ ë¡œ ì˜³ì§€ ì•Šì€ ê²ƒì€?", "options":["ê²°ì •ë¡ ì  ìµœì  ë³´ì¥","í™•ë¥ ì  íƒìƒ‰","ì „ì—­ íƒìƒ‰ ê²½í–¥","íœ´ë¦¬ìŠ¤í‹±ê³¼ ê²°í•© ê°€ëŠ¥"], "answer":1},
{"q":"ì´ì§„ ì¸ì½”ë”©ì—ì„œ í•œ ìœ ì „ìì˜ ê°’ì€?", "options":["0 ë˜ëŠ” 1","ì‹¤ìˆ˜","ë¬¸ìì—´","í–‰ë ¬"], "answer":1},
{"q":"ë£°ë › íœ ì—ì„œ ì í•©ë„ê°€ 0ì¸ ê°œì²´ì˜ ì„ íƒ í™•ë¥ ì€?", "options":["0","0.5","1/N","1"], "answer":1},
{"q":"ì„¸ëŒ€ êµì²´ í›„ ë³´í†µ ìˆ˜í–‰í•˜ëŠ” ë‹¨ê³„ëŠ”?", "options":["ëŒì—°ë³€ì´ ë° í‰ê°€","ì—­ì „íŒŒ","ê·œì¹™í•™ìŠµ","í¼ì§€í™”"], "answer":1},
{"q":"êµì°¨ ì§€ì  í•œ ê³³ì—ì„œ ì ˆë‹¨/êµí™˜í•˜ëŠ” ë°©ì‹ì€?", "options":["ë‹¨ì¼ì§€ì  êµì°¨","ê· ì¼ êµì°¨","ë¶€ë¶„ì¼ì¹˜ êµì°¨","ìˆœì„œ êµì°¨"], "answer":1},
{"q":"ì •ìˆ˜ ì¸ì½”ë”© TSPì—ì„œ ìˆœì„œ ë³´ì¡´ì„ ìœ„í•œ êµì°¨ëŠ”?", "options":["ìˆœì„œêµì°¨(OX) ë“±","ë‹¨ì¼ì§€ì  ì´ì§„êµì°¨","ê· ì¼êµì°¨ë§Œ","ë¹„íŠ¸ë°˜ì „"], "answer":1},
{"q":"ì í•©ë„ ìŠ¤ì¼€ì¼ë§ì„ í•˜ëŠ” ì´ìœ ëŠ”?", "options":["ì„ íƒ ì••ë ¥ ì¡°ì ˆ","ëŒì—°ë³€ì´ í™•ë¥  ì¦ê°€","êµì°¨ í™•ë¥  0ìœ¼ë¡œ","í‰ê°€ ì œê±°"], "answer":1},
{"q":"ì—˜ë¦¬í‹°ì¦˜(elitism)ì˜ ëª©ì ì€?", "options":["ìµœê³  ê°œì²´ ë³´ì¡´","ë‹¤ì–‘ì„± ì œê±°","ë¬´ì‘ìœ„ ì´ˆê¸°í™”","í‰ê°€ ìƒëµ"], "answer":1},
{"q":"í•¨ìˆ˜ ìµœëŒ€í™”ì—ì„œ ì í•©ë„ë¡œ f(x)=6xâˆ’x^2ë¥¼ ì“´ë‹¤ë©´, xâˆˆ{0,â€¦,31}ì˜ ìµœëŒ“ê°’ì€ ëŒ€ëµ ì–´ëŠ ê·¼ì²˜ì¸ê°€?", "options":["xâ‰ˆ3 ê·¼ë°©(ì •ìˆ˜í™”)","xâ‰ˆ6","xâ‰ˆ0","xâ‰ˆ31"], "answer":1},
{"q":"í˜„ëŒ€ GPì˜ í™œìš©ìœ¼ë¡œ ë³´ê¸° ì–´ë ¤ìš´ ê²ƒì€?", "options":["ì›¹ ë¸Œë¼ìš°ì§• ìë™í™” ì¼ë°˜í•´","ì‹¬ë³¼ë¦­ íšŒê·€","ì‹ ê²½ë§ êµ¬ì¡° íƒìƒ‰","ë¬¼ë¦¬ ê¸°ë°˜ ì‹ ë„ì¶œ"], "answer":1}
]





# =========================
# 2) ìœ í‹¸: ë³´ê¸° ì„ê¸° & ì´ˆê¸°í™” í•¨ìˆ˜
# =========================
def shuffle_question(qobj):
    """ë³´ê¸°ë¥¼ ì„ê³ , ì •ë‹µ ì¸ë±ìŠ¤ë¥¼ ì¬ê³„ì‚°"""
    opts = qobj["options"]
    correct_idx_0based = qobj["answer"] - 1
    paired = list(enumerate(opts))  # (ì›ë˜ì¸ë±ìŠ¤, ë³´ê¸°ë¬¸ìì—´)
    random.shuffle(paired)
    new_options = [t for _, t in paired]
    new_answer = None
    for new_i, (orig_i, _) in enumerate(paired):
        if orig_i == correct_idx_0based:
            new_answer = new_i + 1  # 1-based
            break
    return {
        "q": qobj["q"],
        "options": new_options,
        "answer": new_answer,
        "exp": qobj.get("exp", "")
    }

def init_quiz(num, shuffle_opt):
    pool = random.sample(QUESTIONS, k=num)
    if shuffle_opt:
        pool = [shuffle_question(q) for q in pool]
    st.session_state.quiz = pool
    st.session_state.current = 0
    st.session_state.score = 0
    st.session_state.finished = False
    st.session_state.history = []
    st.session_state.config_num_select = num
    st.session_state.config_shuffle_opt = shuffle_opt

# =========================
# 3) ì‚¬ì´ë“œë°” ì„¤ì • + ì ìš© ë²„íŠ¼
# =========================
with st.sidebar:
    st.markdown("### ì„¤ì •")
    total_pool = len(QUESTIONS)
    # ì´ˆê¸° ê¸°ë³¸ê°’(ì„¸ì…˜ ì—†ì„ ë•Œë§Œ ì‚¬ìš©)
    default_num = min(20, total_pool)

    # í˜„ì¬ ì„¸ì…˜ì— ì„¤ì •ê°’ì´ ìˆìœ¼ë©´ ê·¸ê±¸ ê¸°ë³¸ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°
    cur_num = st.session_state.get("config_num_select", default_num)
    cur_shuffle = st.session_state.get("config_shuffle_opt", True)

    num_select = st.number_input(
        "ì¶œì œ ë¬¸í•­ ìˆ˜", min_value=1, max_value=total_pool, value=cur_num, step=1
    )
    shuffle_opt = st.checkbox("ë³´ê¸° ìˆœì„œ ì„ê¸°", value=cur_shuffle)

    # ì ìš© ë²„íŠ¼: í˜„ì¬ í€´ì¦ˆë¥¼ ì¦‰ì‹œ ì¬ì´ˆê¸°í™”
    apply_clicked = st.button("ì ìš©(ì¬ì„¤ì •)")

# =========================
# 4) ìµœì´ˆ ì‹¤í–‰ / ì ìš© ì²˜ë¦¬
# =========================
# ì„¸ì…˜ì— í€´ì¦ˆê°€ ì—†ìœ¼ë©´ ìµœì´ˆ ì´ˆê¸°í™”
if "quiz" not in st.session_state:
    init_quiz(int(num_select), bool(shuffle_opt))

# ì‚¬ìš©ìê°€ ì ìš©ì„ ëˆŒë €ë‹¤ë©´ ì¦‰ì‹œ ì¬ì´ˆê¸°í™”
if apply_clicked:
    init_quiz(int(num_select), bool(shuffle_opt))
    st.rerun()

quiz = st.session_state.quiz
current = st.session_state.current
total = len(quiz)

# ì§„í–‰ìƒíƒœ í‘œì‹œ
st.progress((current / total) if total > 0 else 0)
st.caption(f"ë¬¸í•­ ì§„í–‰: {current}/{total}")

# =========================
# 5) í€´ì¦ˆ ì§„í–‰
# =========================
if not st.session_state.finished:
    q = quiz[current]
    st.subheader(f"ë¬¸ì œ {current+1} / {total}")
    st.write(q["q"])
    choice = st.radio("ì •ë‹µì„ ì„ íƒí•˜ì„¸ìš”:", q["options"], key=f"opt_{current}", index=0)

    col1, col2 = st.columns(2)
    with col1:
        if st.button("ì œì¶œí•˜ê¸°", use_container_width=True):
            correct_txt = q["options"][q["answer"] - 1]
            is_correct = (choice == correct_txt)
            if is_correct:
                st.success("âœ… ì •ë‹µì…ë‹ˆë‹¤!")
                st.session_state.score += 1
            else:
                st.error(f"âŒ ì˜¤ë‹µ! ì •ë‹µì€ '{correct_txt}' ì…ë‹ˆë‹¤.")
                if q.get("exp"):
                    st.info(f"í•´ì„¤: {q['exp']}")

            # ê¸°ë¡ ì €ì¥
            st.session_state.history.append({
                "q": q["q"],
                "choice": choice,
                "correct": is_correct,
                "answer": correct_txt,
                "exp": q.get("exp", "")
            })

            # ë‹¤ìŒ ë¬¸í•­ìœ¼ë¡œ
            st.session_state.current += 1
            if st.session_state.current >= total:
                st.session_state.finished = True
            st.rerun()

    with col2:
        if st.button("ê±´ë„ˆë›°ê¸°", use_container_width=True):
            st.session_state.history.append({
                "q": q["q"],
                "choice": None,
                "correct": False,
                "answer": q["options"][q["answer"] - 1],
                "exp": q.get("exp", "")
            })
            st.session_state.current += 1
            if st.session_state.current >= total:
                st.session_state.finished = True
            st.rerun()

# =========================
# 6) ê²°ê³¼ ìš”ì•½
# =========================
else:
    st.subheader("ğŸ“Š ê²°ê³¼ ìš”ì•½")
    score = st.session_state.score
    st.write(f"ì´ ì ìˆ˜: {score} / {total} (ì •ë‹µë¥ : {score/total*100:.1f}%)")
    if score == total:
        st.balloons()
        st.success("ì™„ë²½í•©ë‹ˆë‹¤!")
    elif score >= total * 0.8:
        st.info("ë§¤ìš° ìš°ìˆ˜í•©ë‹ˆë‹¤!")
    elif score >= total * 0.5:
        st.warning("ì ˆë°˜ ì´ìƒ ì´í•´í–ˆìŠµë‹ˆë‹¤. ë³µìŠµì„ ì´ì–´ê°€ì„¸ìš”!")
    else:
        st.error("ë³µìŠµì´ ë” í•„ìš”í•©ë‹ˆë‹¤.")

    wrong_items = [h for h in st.session_state.history if not h["correct"]]
    if wrong_items:
        st.markdown("---")
        st.subheader("ğŸ“Œ ì˜¤ë‹µ ë¦¬ë·°")
        for i, h in enumerate(wrong_items, start=1):
            st.markdown(f"**{i}. {h['q']}**")
            if h["choice"] is None:
                st.write("ë‚´ ì„ íƒ: (ê±´ë„ˆëœ€)")
            else:
                st.write(f"ë‚´ ì„ íƒ: {h['choice']}")
            st.write(f"ì •ë‹µ: {h['answer']}")
            if h["exp"]:
                st.caption(f"í•´ì„¤: {h['exp']}")

    st.markdown("---")
    c1, c2 = st.columns(2)

    with c1:
        if wrong_items and st.button("ì˜¤ë‹µë§Œ ì¬ë„ì „", use_container_width=True):
            # í˜„ì¬ ì„¸íŒ… ìœ ì§€í•œ ì±„ ì˜¤ë‹µë§Œ ë‹¤ì‹œ
            wrong_q_objs = []
            for h in wrong_items:
                for q in quiz:
                    if q["q"] == h["q"]:
                        wrong_q_objs.append(q)
                        break
            random.shuffle(wrong_q_objs)
            # ë³´ê¸° ì„ê¸° ì—¬ë¶€ëŠ” í˜„ì¬ ì„¤ì • ìœ ì§€
            if st.session_state.get("config_shuffle_opt", True):
                wrong_q_objs = [shuffle_question(q) for q in wrong_q_objs]
            st.session_state.quiz = wrong_q_objs
            st.session_state.current = 0
            st.session_state.score = 0
            st.session_state.finished = False
            st.session_state.history = []
            st.rerun()

    with c2:
        if st.button("ì²˜ìŒë¶€í„° ë‹¤ì‹œ", use_container_width=True):
            # í˜„ì¬ ì‚¬ì´ë“œë°” ì„¤ì •ê°’ ìœ ì§€í•œ ì±„ ì „ì²´ ì¬ì„¤ì •
            n = st.session_state.get("config_num_select", min(20, len(QUESTIONS)))
            shuf = st.session_state.get("config_shuffle_opt", True)
            init_quiz(int(n), bool(shuf))
            st.rerun()


